#!/usr/bin/env bash
# One-step launcher for the SpecKit workflow.
set -e
REPO_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
cd "$REPO_ROOT"
if command -v python3 >/dev/null 2>&1; then
  python3 scripts/speckit_check.py
else
  echo "python3 is required to run SpecKit helper." >&2
  exit 1
fi

# Pop open the friendly guide in your default viewer
if command -v open >/dev/null 2>&1; then
  open docs/spec-kit.md >/dev/null 2>&1 || true
elif command -v xdg-open >/dev/null 2>&1; then
  xdg-open docs/spec-kit.md >/dev/null 2>&1 || true
fi

cat <<'MSG'

Docs opened (docs/spec-kit.md). Follow the prompts there and in
.speckit/commands/, then finish with: openspec validate <change-id> --strict

Happy spec-ing! ğŸ”¥
MSG
